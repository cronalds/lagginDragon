Inference loop (high-level pipeline)

Text diagram:

Agenda and selection:

- Build initial agenda from rules whose antecedents reference known facts.
- Sort agenda by `Rule.Priority`, `ContextMatch`, and `Rule.Weight`.
- Pop and evaluate; if triggered, apply consequences and update KB; if consequences add new facts, add impacted rules to agenda.

Stop conditions:

- No new facts added in last iteration
- Reached max iterations/loop guard
- Explicit human pause (for analyst)